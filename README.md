# glider-sampling-simulation
Simulated underwater glider sampling for Antarctic krill

To run the simulation, download the files in the 'R', 'Data' and 'rmarkdown' directories into a single working directory on your local computer. The results for one simulation of 14 replicate random samples are shown in the pdfs in the 'Main' directory for the corresponding '.rmd' files in the 'rmarkdown' directory. The resolution of the pdfs is better when they are downloaded than when they are viewed directly from GitHub. 

To reproduce a new randomization of these outputs, render the rmd scripts using the R package 'knitr', starting with the 'Glider_simulation...rmd' files in the 'rmarkdown' directory. The 'Glider_simulation...rmd' functions produce output files in a 'tables' directory on the local computer. The files in 'tables' may then be called from the 'Figures...rmd' files to produce the figures. In this example there is a 'Glider_simulation' rmarkdown file for each of two survey strata. These can be run simultaneously on a multicore computer to reduce run time. The simulation can also be run sequentially by stratum but it will take longer.  

This simulation produced about 12.8 GB of output files (not included in the repository). The rmarkdown file 'Glider_simulation_WA.rmd' took the most time, about 20 hours. More replicates will produce better statistical results but require more time and produce more output. 

The '100_replicates' directory contains the '.rmd' and '.pdf' files from a second simulation of 100 replicates. These used the same datafiles in the 'data' directory and the R functions in the 'R' directory. The 'Glider_simulation...rmd' files were run separately by number of gliders (combinations of 1 to 5 gliders sampling per replicate) as well as by strata to reduce run time. About 87 GB of output files were produced. The 'Glider_simulation_WA5.rmd' took the most time to run, about two weeks. Total run time could be further reduced by simultaneously running separate rmarkdown files for each area, glider combination and maximum glider depth, for example.

The data sampled in the simulations are acoustic densities of krill from AMLR research ship surveys in two sampling strata around the Antarctic Peninsula: the Southern Area ('SA', also called Bransfield Strait) and the Western Area ('WA', also called Cape Shirreff). 'Figures2-7_SA.rmd' and 'Figures2-7_WA.rmd' produce the Figures for each of the two strata. 'Figures8-9.rmd' combines glider samples from both strata.
